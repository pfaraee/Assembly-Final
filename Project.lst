Microsoft (R) Macro Assembler Version 14.00.24210.0	    06/03/17 06:52:52
main.asm						     Page 1 - 1


				.386
				.model flat,stdcall
				.stack 4096

				ExitProcess proto,dwExitCode:dword
				WriteString proto
				WriteDec proto
				Crlf proto
				writeLine proto
				getDoor proto
				gameOver proto
				getYesOrNo proto
				SetTextColor proto

 00000000			.data
 = 00000014			MAX = 20
 00000000 57 65 6C 63 6F	welcomeMSG BYTE "Welcome to the Room of Quite a Few Doors.", 0
	   6D 65 20 74 6F
	   20 74 68 65 20
	   52 6F 6F 6D 20
	   6F 66 20 51 75
	   69 74 65 20 61
	   20 46 65 77 20
	   44 6F 6F 72 73
	   2E 00
 0000002A 49 6E 73 70 65	getDecisionMSG BYTE "Inspect room?", 0
	   63 74 20 72 6F
	   6F 6D 3F 00
 00000038 47 6F 20 69 6E	getDoorMSG BYTE "Go in West (w), North(n), or East(e) door?", 0
	   20 57 65 73 74
	   20 28 77 29 2C
	   20 4E 6F 72 74
	   68 28 6E 29 2C
	   20 6F 72 20 45
	   61 73 74 28 65
	   29 20 64 6F 6F
	   72 3F 00
 00000063 4E 75 6D 62 65	crystalMSG BYTE "Number of Crystals: ", 0
	   72 20 6F 66 20
	   43 72 79 73 74
	   61 6C 73 3A 20
	   00
 00000078  00000015 [		userInput BYTE MAX+1 DUP (?)
	    00
	   ]
 0000008D 00			inByte BYTE ?
 0000008E 00			roomDebug BYTE 0
 0000008F 00000000		numCrystals DWORD 0

 00000000			.code
 00000000			main proc
					;; text setup
 00000000  B8 00A98F1E			mov eax, 11112222
 00000005  E8 00000000 E		call SetTextColor

 0000000A  BA 00000000 R		mov	edx, offset welcomeMSG			
 0000000F  E8 00000000 E		call writeLine

 00000014				gameLoop:
					; just to make sure you are moving through the rooms
 00000014  A0 0000008E R		mov al, roomDebug
 00000019  B0 01			mov al, 1
 0000001B  A2 0000008E R		mov roomDebug, al

					;; output number of crystals
 00000020  BA 00000063 R		mov edx, offset crystalMSG
 00000025  E8 00000000 E		call WriteString
 0000002A  A1 0000008F R		mov eax, numCrystals
 0000002F  E8 00000000 E		call WriteDec
 00000034  E8 00000000 E		call Crlf

					;; inspect room or no?
 00000039  BA 0000002A R		mov edx, offset getDecisionMSG
 0000003E  E8 00000000 E		call writeLine

 00000043  E8 00000000 E		call getYesOrNo ;; answer in al

 00000048  3C 6E			cmp al, 'n' ; if no skip to door picking
 0000004A  74 00			jz doorPicking

					; This section for inspecting the room
					;
					;
					;
					;
					;

 0000004C				doorPicking:
					;;get dialogue
 0000004C  BA 00000038 R		mov edx, offset getDoorMSG
 00000051  E8 00000000 E		call writeLine
					
					;; get input
 00000056  E8 00000000 E		call getDoor

					;; do calculations

					
 0000005B  A1 0000008F R		mov eax, numCrystals
 00000060  83 F8 0A			cmp eax, 10
 00000063  72 AF			jb gameLoop
					; just incase
 00000065  E8 00000000 E		call gameOver
 0000006A			main endp
				end main

Microsoft (R) Macro Assembler Version 14.00.24210.0	    06/03/17 06:52:52
main.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

FLAT . . . . . . . . . . . . . .	GROUP
STACK  . . . . . . . . . . . . .	32 Bit	 00001000 DWord	  Stack	  'STACK'	 
_DATA  . . . . . . . . . . . . .	32 Bit	 00000093 DWord	  Public  'DATA'	
_TEXT  . . . . . . . . . . . . .	32 Bit	 0000006A DWord	  Public  'CODE'	


Procedures, parameters, and locals:

                N a m e                 Type     Value    Attr

Crlf . . . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
ExitProcess  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
SetTextColor . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteDec . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
WriteString  . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
gameOver . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
getDoor  . . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
getYesOrNo . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL
main . . . . . . . . . . . . . .	P Near	 00000000 _TEXT	Length= 0000006A Public STDCALL
  gameLoop . . . . . . . . . . .	L Near	 00000014 _TEXT	
  doorPicking  . . . . . . . . .	L Near	 0000004C _TEXT	
writeLine  . . . . . . . . . . .	P Near	 00000000 FLAT	Length= 00000000 External STDCALL


Symbols:

                N a m e                 Type     Value    Attr

@CodeSize  . . . . . . . . . . .	Number	 00000000h   
@DataSize  . . . . . . . . . . .	Number	 00000000h   
@Interface . . . . . . . . . . .	Number	 00000003h   
@Model . . . . . . . . . . . . .	Number	 00000007h   
@code  . . . . . . . . . . . . .	Text   	 _TEXT
@data  . . . . . . . . . . . . .	Text   	 FLAT
@fardata?  . . . . . . . . . . .	Text   	 FLAT
@fardata . . . . . . . . . . . .	Text   	 FLAT
@stack . . . . . . . . . . . . .	Text   	 FLAT
MAX  . . . . . . . . . . . . . .	Number	 00000014h   
crystalMSG . . . . . . . . . . .	Byte	 00000063 _DATA	
getDecisionMSG . . . . . . . . .	Byte	 0000002A _DATA	
getDoorMSG . . . . . . . . . . .	Byte	 00000038 _DATA	
inByte . . . . . . . . . . . . .	Byte	 0000008D _DATA	
numCrystals  . . . . . . . . . .	DWord	 0000008F _DATA	
roomDebug  . . . . . . . . . . .	Byte	 0000008E _DATA	
userInput  . . . . . . . . . . .	Byte	 00000078 _DATA	
welcomeMSG . . . . . . . . . . .	Byte	 00000000 _DATA	

	   0 Warnings
	   0 Errors
